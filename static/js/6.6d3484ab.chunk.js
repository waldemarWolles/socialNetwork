(this.webpackJsonpversion_01_network=this.webpackJsonpversion_01_network||[]).push([[6],{288:function(e,t,a){e.exports={formControls:"FormControls_formControls__4c7Yh",error:"FormControls_error__uKFST",App:"FormControls_App__3XoIW",input:"FormControls_input__229Xk",forms_control:"FormControls_forms_control__1AmpX"}},294:function(e,t,a){"use strict";var n=a(88),l=a(0),r=a.n(l),o=a(288),c=a.n(o),i=a(289),s=function(e){var t=e.label,a=e.name,l=e.key,o=Object(n.a)(e,["label","name","key"]);return r.a.createElement("div",{className:c.a.formik_controls},r.a.createElement("label",{htmlFor:a},t),r.a.createElement(i.b,Object.assign({as:"textarea",key:l,id:a,name:a},o)),r.a.createElement(i.a,{name:a,component:p}))},u=function(e){var t=e.label,a=e.name,l=e.key,o=Object(n.a)(e,["label","name","key"]);return r.a.createElement("div",{className:c.a.formik_controls},r.a.createElement("label",{htmlFor:a},t),r.a.createElement(i.b,Object.assign({id:a,key:l,name:a},o)),r.a.createElement(i.a,{name:a,component:p}))},m=function(e){var t=e.label,a=e.name,l=e.options,o=Object(n.a)(e,["label","name","options"]);return r.a.createElement("div",{className:c.a.formik_controls},r.a.createElement("label",null,t),r.a.createElement(i.b,Object.assign({name:a},o),(function(e){var t=e.field;return l.map((function(e){return r.a.createElement(r.a.Fragment,{key:e.key},r.a.createElement("input",Object.assign({type:"checkbox",id:e.value},t,{value:e.value,checked:t.value.includes(e.value)})),r.a.createElement("label",{htmlFor:e.value},e.key))}))})),r.a.createElement(i.a,{name:a,component:p}))},p=function(e){return r.a.createElement("div",{className:c.a.error},e.children)};t.a=function(e){var t=e.control,a=Object(n.a)(e,["control"]);switch(t){case"input":return r.a.createElement(u,a);case"textarea":return r.a.createElement(s,a);case"checkbox":return r.a.createElement(m,a);default:return null}}},302:function(e,t,a){e.exports={profile_info:"ProfileInfo_profile_info__3V6jF",img_container:"ProfileInfo_img_container__1spJ7",img:"ProfileInfo_img__OSL9u",profile_photo_input:"ProfileInfo_profile_photo_input__2nWkW",status:"ProfileInfo_status__2fcwA",status_text:"ProfileInfo_status_text__2f3G-",form_error:"ProfileInfo_form_error__iEUvC",profile_data:"ProfileInfo_profile_data__2nEVh",profile_data_item:"ProfileInfo_profile_data_item__v-S0Q",status_popup:"ProfileInfo_status_popup__oMm17",addPost_item:"ProfileInfo_addPost_item__y29qq"}},318:function(e,t,a){"use strict";a.d(t,"b",(function(){return i})),a.d(t,"a",(function(){return s})),a.d(t,"c",(function(){return u}));var n=a(88),l=(a(288),a(0)),r=a.n(l),o=a(153),c=function(e){e.input;var t=e.meta,a=(e.child,Object(n.a)(e,["input","meta","child"])),l=t.touched&&t.error;return r.a.createElement("div",null,r.a.createElement("div",null,a.children),r.a.createElement("div",null,l&&r.a.createElement("span",null,t.error)))},i=function(e){var t=e.input,a=(e.meta,e.child,Object(n.a)(e,["input","meta","child"]));return r.a.createElement("div",null,r.a.createElement(c,e,r.a.createElement("textarea",Object.assign({},t,a))))},s=function(e){var t=e.input,a=(e.meta,e.child,Object(n.a)(e,["input","meta","child"]));return r.a.createElement("div",null,r.a.createElement(c,e,r.a.createElement("input",Object.assign({},t,a))))},u=function(e,t,a,n){var l=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},c=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"";return r.a.createElement("div",null,r.a.createElement(o.a,Object.assign({placeholder:e,validate:t,name:a,component:n},l)),c)}},338:function(e,t,a){e.exports={profile:"Profile_profile__F8YN9",userImg:"Profile_userImg__2qokz",user:"Profile_user__DrajQ",postForm:"Profile_postForm__2-TE4",addPost:"Profile_addPost__1Ck26",button:"Profile_button__1kYAH"}},402:function(e,t,a){e.exports={img:"Post_img__3rTv6",post:"Post_post__3PbZK",post__item:"Post_post__item__2S5Qo",post_message:"Post_post_message__3IWbM",likes_container:"Post_likes_container__1i5gj",likes:"Post_likes__36odM",liked:"Post_liked__yrO5v"}},424:function(e,t,a){"use strict";a.r(t);var n=a(26),l=a(27),r=a(29),o=a(28),c=a(0),i=a.n(c),s=a(338),u=a.n(s),m=a(91),p=a(52),f=a(108),d=a.n(f),E=a(302),_=a.n(E),b=a(318),v=a(154),h=(Object(v.a)({form:"edit_profile"})((function(e){var t=e.handleSubmit,a=e.profile,n=e.error;return i.a.createElement("form",{onSubmit:t},n&&i.a.createElement("div",{className:_.a.form_error},n),i.a.createElement("div",null,i.a.createElement("b",null,"FullName :"),a.fullName,Object(b.c)("Full name",[],"fullName",b.a)),i.a.createElement("div",null,i.a.createElement("b",null,"LookingForAJob: "),a.lookingForAJob?"yes":"no",Object(b.c)("",[],"lookingForAJob",b.a,{type:"checkbox"})),i.a.createElement("div",null,i.a.createElement("b",null,"My skills: "),a.lookingForAJobDescription,Object(b.c)("My skills",[],"lookingForAJobDescription",b.b)),i.a.createElement("div",null,i.a.createElement("b",null,"About me: "),a.aboutMe,Object(b.c)("About me",[],"aboutMe",b.b)),i.a.createElement("div",null,i.a.createElement("b",null,"Contacts:"),Object.keys(a.contacts).map((function(e){return i.a.createElement("div",null,e,": ",Object(b.c)(e,[],"contacts."+e,b.a))}))),i.a.createElement("div",null,i.a.createElement("button",null,"Save")))})),function(e){var t=Object(c.useState)(!1),a=Object(m.a)(t,2),n=a[0],l=a[1],r=Object(c.useState)(e.status),o=Object(m.a)(r,2),s=o[0],u=o[1],p=Object(c.useState)(!1),f=Object(m.a)(p,2),d=f[0],E=f[1];Object(c.useEffect)((function(){u(e.status)}),[e.status]);return i.a.createElement("div",{className:_.a.status},!n&&i.a.createElement("div",{className:_.a.status_text},i.a.createElement("div",null,i.a.createElement("b",null,"Status: "),i.a.createElement("span",{onMouseOver:function(){E(!0)},onMouseOut:function(){E(!1)},onDoubleClick:function(){e.authorizedUserId===e.profile.userId&&l(!0)}}," ",e.status||"there is no status")),d&&e.authorizedUserId===e.profile.userId&&i.a.createElement("div",{className:_.a.status_popup},"DoubleClick to change status")),n&&i.a.createElement("div",null,i.a.createElement("b",null,"Status: "),i.a.createElement("input",{onChange:function(e){u(e.currentTarget.value)},autoFocus:!0,onBlur:function(){l(!1),e.updateStatusThunk(s)},value:s})))}),g=a(289),k=a(294),P=a(304),O=function(e){var t=e.profile,a=e.onSubmit;return i.a.createElement(g.d,{initialValues:{fullName:t.fullName,lookingForAJob:!1,lookingForAJobDescription:t.lookingForAJobDescription,aboutMe:t.aboutMe,contacts:t.contacts},validationSchema:P.c({fullName:P.d().required("Required field"),lookingForAJob:P.b().required("Required field"),lookingForAJobDescription:P.d().required("Required field"),aboutMe:P.d().required("Required field"),contacts:P.c().required("Required field")}),onSubmit:a},(function(e){return i.a.createElement(g.c,null,i.a.createElement("div",null,i.a.createElement("b",null,"FullName :"),t.fullName,i.a.createElement(k.a,{control:"input",name:"fullName",placeholder:"Write your name here"})),i.a.createElement("div",null,i.a.createElement("b",null,"LookingForAJob: "),t.lookingForAJob?"yes":"no",i.a.createElement(g.b,{type:"checkbox",name:"lookingForAJob"})),i.a.createElement("div",null,i.a.createElement("b",null,"My skills: "),t.lookingForAJobDescription,i.a.createElement(k.a,{control:"textarea",name:"lookingForAJobDescription",placeholder:"My skills"})),i.a.createElement("div",null,i.a.createElement("b",null,"About me: "),t.aboutMe,i.a.createElement(k.a,{control:"textarea",name:"aboutMe",placeholder:"About me"})),i.a.createElement("div",null,i.a.createElement("b",null,"Contacts:"),Object.keys(t.contacts).map((function(e){return i.a.createElement("div",{key:e},e,": ",i.a.createElement(k.a,{key:e,control:"input",name:"contacts."+e,placeholder:e}))}))),i.a.createElement("div",null,i.a.createElement("button",{type:"submit"},"Save")))}))},N=function(e){var t=e.profile,a=e.isOwner,n=e.goToEditMode;return i.a.createElement("div",null,i.a.createElement("div",{className:_.a.profile_data_item},i.a.createElement("b",null,"FullName :"),t.fullName),i.a.createElement("div",{className:_.a.profile_data_item},i.a.createElement("b",null,"LookingForAJob: "),t.lookingForAJob?"yes":"no"),t.lookingForAJob&&i.a.createElement("div",{className:_.a.profile_data_item},i.a.createElement("b",null,"My skills: "),t.lookingForAJobDescription),i.a.createElement("div",{className:_.a.profile_data_item},i.a.createElement("b",null,"About me: "),t.aboutMe),i.a.createElement("div",{className:_.a.profile_data_item},i.a.createElement("b",null,"Contacts:"),Object.keys(t.contacts).map((function(e){return i.a.createElement(y,{key:e,contactTitle:e,contactValue:t.contacts[e]})}))),a&&i.a.createElement("div",null,i.a.createElement("button",{className:_.a.profile_data_item,onClick:n},"Edit")))},y=function(e){var t=e.contactTitle,a=e.contactValue;return i.a.createElement("div",null,i.a.createElement("div",{className:_.a.profile_data_item},i.a.createElement("b",null," ",t),": ",i.a.createElement("span",null,a)))},j=function(e){var t=e.profile,a=e.status,n=e.updateStatusThunk,l=e.isOwner,r=e.savePhotoThunk,o=e.saveProfileThunk,s=e.authorizedUserId,u=Object(c.useState)(!1),f=Object(m.a)(u,2),E=f[0],b=f[1];if(!t)return i.a.createElement(p.a,null);var v=i.a.createRef(null);return i.a.createElement("div",{className:_.a.profile_info},i.a.createElement("div",{className:_.a.img_container},i.a.createElement("img",{className:_.a.img,src:t.photos.large||d.a,alt:""}),l&&i.a.createElement("div",null,i.a.createElement("button",{onClick:function(e){v.current.click()}},"Change Photo"),i.a.createElement("input",{className:_.a.profile_photo_input,ref:v,type:"file",onChange:function(e){e.target.files.length&&r(e.target.files[0])}})),i.a.createElement(h,{profile:t,authorizedUserId:s,status:a,updateStatusThunk:n})),i.a.createElement("div",{className:_.a.profile_data},E?i.a.createElement(O,{initialValues:t,profile:t,onSubmit:function(e){o(e).then((function(){b(!1)}))}}):i.a.createElement(N,{profile:t,isOwner:l,goToEditMode:function(){return b(!0)}})))},T=a(45),F=a(402),x=a.n(F),S=a(89),I=a.n(S);function w(){return(w=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function A(e,t){if(null==e)return{};var a,n,l=function(e,t){if(null==e)return{};var a,n,l={},r=Object.keys(e);for(n=0;n<r.length;n++)a=r[n],t.indexOf(a)>=0||(l[a]=e[a]);return l}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(n=0;n<r.length;n++)a=r[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(l[a]=e[a])}return l}var C=i.a.createElement("g",null,i.a.createElement("g",null,i.a.createElement("path",{fill:"current",d:"M83.578,167.256H16.716C7.524,167.256,0,174.742,0,183.971v300.881c0,9.225,7.491,16.713,16.716,16.713h66.862 c9.225,0,16.716-7.489,16.716-16.713V183.971C100.294,174.742,92.769,167.256,83.578,167.256z"}))),M=i.a.createElement("g",null,i.a.createElement("g",null,i.a.createElement("path",{fill:"current",d:"M470.266,167.256c-2.692-0.456-128.739,0-128.739,0l17.606-48.032c12.148-33.174,4.283-83.827-29.424-101.835 c-10.975-5.864-26.309-8.809-38.672-5.697c-7.09,1.784-13.321,6.478-17.035,12.767c-4.271,7.233-3.83,15.676-5.351,23.696 c-3.857,20.342-13.469,39.683-28.354,54.2c-25.952,25.311-106.571,98.331-106.571,98.331v267.45h278.593 c37.592,0.022,62.228-41.958,43.687-74.749c22.101-14.155,29.66-43.97,16.716-66.862c22.102-14.155,29.66-43.97,16.716-66.862 C527.572,235.24,514.823,174.792,470.266,167.256z"}))),J=i.a.createElement("g",null),z=i.a.createElement("g",null),q=i.a.createElement("g",null),D=i.a.createElement("g",null),U=i.a.createElement("g",null),R=i.a.createElement("g",null),V=i.a.createElement("g",null),W=i.a.createElement("g",null),L=i.a.createElement("g",null),B=i.a.createElement("g",null),Q=i.a.createElement("g",null),X=i.a.createElement("g",null),Y=i.a.createElement("g",null),H=i.a.createElement("g",null),K=i.a.createElement("g",null),G=function(e){var t=e.svgRef,a=e.title,n=A(e,["svgRef","title"]);return i.a.createElement("svg",w({id:"Layer_1",x:"0px",y:"0px",viewBox:"0 0 511.999 511.999",style:{enableBackground:"new 0 0 511.999 511.999"},xmlSpace:"preserve",ref:t},n),a?i.a.createElement("title",null,a):null,C,M,J,z,q,D,U,R,V,W,L,B,Q,X,Y,H,K)},Z=i.a.forwardRef((function(e,t){return i.a.createElement(G,w({svgRef:t},e))})),$=(a.p,function(e){var t=Object(c.useState)(e.likesCount),a=Object(m.a)(t,2),n=a[0],l=a[1],r=I.a;return e.profile.photos.small&&(r=e.profile.photos.small),i.a.createElement("div",{className:x.a.post},i.a.createElement("div",{className:x.a.post__item},i.a.createElement("img",{className:x.a.img,src:r,alt:""}),i.a.createElement("h3",{className:x.a.name},e.profile.fullName)),i.a.createElement("div",null,i.a.createElement("p",{className:x.a.post_message},e.message),i.a.createElement("div",{className:x.a.likes_container},i.a.createElement("div",null,i.a.createElement(Z,{className:"".concat(x.a.likes," ").concat(n>0&&x.a.liked),onClick:function(){l(n+1)},src:Z,alt:""})),i.a.createElement("b",null," ",n))))}),ee=i.a.memo((function(e){if(console.log("RENDER"),!e.profile)return i.a.createElement(p.a,null);var t=I.a;e.profile.photos.small&&(t=e.profile.photos.small);var a=Object(T.a)(e.posts).map((function(t){return i.a.createElement($,{profile:e.profile,key:t.id,message:t.message,likesCount:t.likesCount})}));return i.a.createElement("div",{className:u.a.posts},i.a.createElement("div",null,i.a.createElement("div",{className:u.a.postForm},i.a.createElement("div",{className:u.a.user},i.a.createElement("img",{className:u.a.userImg,src:t,alt:""}),i.a.createElement("h3",null,e.profile.fullName)),i.a.createElement("div",{className:u.a.addPost},i.a.createElement("div",{className:u.a.addPost_item},i.a.createElement(te,{onSubmit:function(t){e.addPost(t.newPostText)}}))))),a)})),te=function(e){return i.a.createElement(g.d,{initialValues:{newPostText:""},validationSchema:P.c({newPostText:P.d().required("Cannot send an empty post").max(50)}),onSubmit:function(t,a){var n=a.resetForm;e.onSubmit(t),n()}},(function(e){return i.a.createElement(g.c,null,i.a.createElement(k.a,{control:"textarea",name:"newPostText",placeholder:"Write your text here"}),i.a.createElement("button",{className:u.a.button,type:"submit"},"Send"))}))},ae=ee,ne=function(e){return i.a.createElement("div",{className:u.a.profile},i.a.createElement(j,{saveProfileThunk:e.saveProfileThunk,savePhotoThunk:e.savePhotoThunk,isOwner:e.isOwner,profile:e.profile,status:e.status,updateStatusThunk:e.updateStatusThunk,authorizedUserId:e.authorizedUserId}),i.a.createElement(ae,{posts:e.posts,newPostText:e.newPostText,profile:e.profile,addPost:e.addPost,updateNewPostText:e.updateNewPostText,authorizedUserId:e.authorizedUserId}))},le=a(21),re=a(78),oe=a(12),ce=a(24),ie=function(e){Object(r.a)(a,e);var t=Object(o.a)(a);function a(){var e;Object(n.a)(this,a);for(var l=arguments.length,r=new Array(l),o=0;o<l;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).refreshProfile=function(){var t=e.props.match.params.userId;t||(t=e.props.authorizedUserId)||e.props.history.push("/login"),e.props.getProfileThunk(t),e.props.getStatusThunk(t)},e.componentDidMount=function(){e.refreshProfile()},e.componentDidUpdate=function(t,a,n){e.props.match.params.userId!==t.match.params.userId&&e.refreshProfile()},e}return Object(l.a)(a,[{key:"render",value:function(){return i.a.createElement(ne,Object.assign({},this.props,{isOwner:!this.props.match.params.userId,profile:this.props.profile,status:this.props.status,updateStatusThunk:this.props.updateStatusThunk,savePhotoThunk:this.props.savePhotoThunk,saveProfileThunk:this.props.saveProfileThunk,authorizedUserId:this.props.authorizedUserId,posts:this.props.posts,newPostText:this.props.newPostText}))}}]),a}(i.a.Component);t.default=Object(ce.d)(Object(le.b)((function(e){return{profile:e.profilePage.profile,status:e.profilePage.status,authorizedUserId:e.auth.userId,isAuth:e.auth.isAuth,posts:e.profilePage.posts,newPostText:e.profilePage.newPostText}}),{getProfileThunk:re.c,getStatusThunk:re.d,updateStatusThunk:re.h,savePhotoThunk:re.e,saveProfileThunk:re.f,addPost:re.a,updateNewPostText:re.g}),oe.g)(ie)}}]);
//# sourceMappingURL=6.6d3484ab.chunk.js.map