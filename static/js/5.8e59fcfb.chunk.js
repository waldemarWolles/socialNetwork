(this.webpackJsonpversion_01_network=this.webpackJsonpversion_01_network||[]).push([[5],{200:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n(197),a=n(0),o=n.n(a),u=n(10),i=n(7),c=function(e){return{isAuth:e.auth.isAuth}};function s(e){return Object(u.b)(c)((function(t){t.isAuth;var n=Object(r.a)(t,["isAuth"]);return t.isAuth?o.a.createElement(e,n):o.a.createElement(i.a,{to:"/login"})}))}},202:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(52);function a(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,a=!1,o=void 0;try{for(var u,i=e[Symbol.iterator]();!(r=(u=i.next()).done)&&(n.push(u.value),!t||n.length!==t);r=!0);}catch(c){a=!0,o=c}finally{try{r||null==i.return||i.return()}finally{if(a)throw o}}return n}}(e,t)||Object(r.a)(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}},212:function(e,t,n){e.exports=n.p+"static/media/user.c3dacb0b.svg"},213:function(e,t,n){e.exports={users:"Users_users__no7MC",search_form_users:"Users_search_form_users__hhwUx",form:"Users_form__2VCnM",preloader:"Users_preloader__1CuV5",user:"Users_user__25gTX",user_photo:"Users_user_photo__HKg5u",user_info:"Users_user_info__2NFH-",user_info_item:"Users_user_info_item__2GVsv"}},216:function(e,t,n){"use strict";function r(e,t){return e===t}function a(e,t,n){if(null===t||null===n||t.length!==n.length)return!1;for(var r=t.length,a=0;a<r;a++)if(!e(t[a],n[a]))return!1;return!0}function o(e){var t=Array.isArray(e[0])?e[0]:e;if(!t.every((function(e){return"function"===typeof e}))){var n=t.map((function(e){return typeof e})).join(", ");throw new Error("Selector creators expect all input-selectors to be functions, instead received the following types: ["+n+"]")}return t}n.d(t,"g",(function(){return i})),n.d(t,"d",(function(){return c})),n.d(t,"e",(function(){return s})),n.d(t,"f",(function(){return l})),n.d(t,"a",(function(){return f})),n.d(t,"c",(function(){return m})),n.d(t,"b",(function(){return d})),n.d(t,"h",(function(){return p}));var u=function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return function(){for(var t=arguments.length,r=Array(t),a=0;a<t;a++)r[a]=arguments[a];var u=0,i=r.pop(),c=o(r),s=e.apply(void 0,[function(){return u++,i.apply(null,arguments)}].concat(n)),l=e((function(){for(var e=[],t=c.length,n=0;n<t;n++)e.push(c[n].apply(null,arguments));return s.apply(null,e)}));return l.resultFunc=i,l.dependencies=c,l.recomputations=function(){return u},l.resetRecomputations=function(){return u=0},l}}((function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:r,n=null,o=null;return function(){return a(t,n,arguments)||(o=e.apply(null,arguments)),n=arguments,o}}));var i=u((function(e){return e.usersPage.users}),(function(e){return e.filter((function(e){return!0}))})),c=function(e){return e.usersPage.pageSize},s=function(e){return e.usersPage.pageSizeFriends},l=function(e){return e.usersPage.totalUsersCount},f=function(e){return e.usersPage.currentPage},m=function(e){return e.usersPage.isFetching},d=function(e){return e.usersPage.followingInProgress},p=function(e){return e.usersPage.filter}},234:function(e,t,n){"use strict";var r=n(0),a=n.n(r),o=n(212),u=n.n(o),i=n(8),c=n(213),s=n.n(c);t.a=function(e){var t=e.user,n=e.followingInProgress,r=e.unfollow,o=e.follow,c=t;return a.a.createElement("div",{className:s.a.user},a.a.createElement("div",null,a.a.createElement(i.b,{to:"profile/"+c.id},a.a.createElement("img",{className:s.a.user_photo,width:"150",src:null!==c.photos.small?c.photos.small:u.a,alt:""}))),a.a.createElement("div",{className:s.a.user_info},a.a.createElement("div",{className:s.a.user_info_item},"Name: ",c.name),a.a.createElement("div",{className:s.a.user_info_item},"Status:",c.status),a.a.createElement("div",{className:s.a.user_info_item},c.followed?a.a.createElement("button",{disabled:n.some((function(e){return e===c.id})),onClick:function(){r(c.id)}},"Unfollow"):a.a.createElement("button",{disabled:n.some((function(e){return e===c.id})),onClick:function(){o(c.id)}},"Follow"))))}},235:function(e,t,n){"use strict";var r=n(53),a=n(202),o=n(0),u=n.n(o),i=n(236),c=n.n(i),s=n(54),l=n.n(s);t.a=function(e){for(var t=e.totalItemsCount,n=e.pageSize,i=e.currentPage,s=e.onPageChanged,f=e.portionSize,m=void 0===f?10:f,d=Math.ceil(t/n),p=[],b=1;b<=d;b++)p.push(b);var g=Math.ceil(d/m),v=Object(o.useState)(1),h=Object(a.a)(v,2),_=h[0],y=h[1],E=(_-1)*m+1,j=_*m;return u.a.createElement("div",{className:c.a.paginator},_>1?u.a.createElement("button",{onClick:function(){_>=2&&y(_-1)}},"PREV"):u.a.createElement("button",{className:c.a.disabledButton,disabled:!0},"PREV"),u.a.createElement("div",{className:c.a.pages},p.filter((function(e){return e>=E&&e<=j})).map((function(e){return u.a.createElement("span",{className:l()(Object(r.a)({},c.a.selectedPage,i===e),c.a.pageNumber),key:e,onClick:function(t){s(e)}},e)}))),g>_?u.a.createElement("button",{onClick:function(){_<g&&y(_+1)}},"NEXT"):u.a.createElement("button",{className:c.a.disabledButton,disabled:!0},"NEXT"))}},236:function(e,t,n){e.exports={selectedPage:"Paginator_selectedPage__3ERx8",disabledButton:"Paginator_disabledButton__CC9kU",paginator:"Paginator_paginator__WFnS9",pages:"Paginator_pages__iXExM",pageNumber:"Paginator_pageNumber__3DpB-"}},264:function(e,t,n){"use strict";t.decode=t.parse=n(265),t.encode=t.stringify=n(266)},265:function(e,t,n){"use strict";function r(e,t){return Object.prototype.hasOwnProperty.call(e,t)}e.exports=function(e,t,n,o){t=t||"&",n=n||"=";var u={};if("string"!==typeof e||0===e.length)return u;var i=/\+/g;e=e.split(t);var c=1e3;o&&"number"===typeof o.maxKeys&&(c=o.maxKeys);var s=e.length;c>0&&s>c&&(s=c);for(var l=0;l<s;++l){var f,m,d,p,b=e[l].replace(i,"%20"),g=b.indexOf(n);g>=0?(f=b.substr(0,g),m=b.substr(g+1)):(f=b,m=""),d=decodeURIComponent(f),p=decodeURIComponent(m),r(u,d)?a(u[d])?u[d].push(p):u[d]=[u[d],p]:u[d]=p}return u};var a=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)}},266:function(e,t,n){"use strict";var r=function(e){switch(typeof e){case"string":return e;case"boolean":return e?"true":"false";case"number":return isFinite(e)?e:"";default:return""}};e.exports=function(e,t,n,i){return t=t||"&",n=n||"=",null===e&&(e=void 0),"object"===typeof e?o(u(e),(function(u){var i=encodeURIComponent(r(u))+n;return a(e[u])?o(e[u],(function(e){return i+encodeURIComponent(r(e))})).join(t):i+encodeURIComponent(r(e[u]))})).join(t):i?encodeURIComponent(r(i))+n+encodeURIComponent(r(e)):""};var a=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)};function o(e,t){if(e.map)return e.map(t);for(var n=[],r=0;r<e.length;r++)n.push(t(e[r],r));return n}var u=Object.keys||function(e){var t=[];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.push(n);return t}},291:function(e,t,n){"use strict";n.r(t),n.d(t,"UserPageWithAuth",(function(){return E}));var r=n(0),a=n.n(r),o=n(10),u=n(1),i=n(213),c=n.n(i),s=n(235),l=n(234),f=n(201),m=n(214),d=n(216),p=a.a.memo((function(e){var t=Object(o.d)(d.h);return a.a.createElement("div",{className:c.a.search_form_users},a.a.createElement("h1",null,"Find somebody!"),a.a.createElement(f.d,{enableReinitialize:!0,initialValues:{term:t.term,friend:String(t.friend)},validationSchema:m.b({term:m.c()}),onSubmit:function(t){var n={term:t.term,friend:"null"===t.friend?null:"true"===t.friend};e.onFilterChanged(n)}},(function(e){return a.a.createElement(f.c,{className:c.a.form},a.a.createElement(f.b,{type:"text",name:"term"}),a.a.createElement(f.b,{name:"friend",as:"select"},a.a.createElement("option",{value:"null"},"All"),a.a.createElement("option",{value:"true"},"Friends"),a.a.createElement("option",{value:"false"},"Not friends")),a.a.createElement("button",{type:"submit",disabled:!e.isValid},"Submit"))})))})),b=n(55),g=n(7),v=n(264),h=function(){var e=Object(o.d)(d.f),t=Object(o.d)(d.a),n=Object(o.d)(d.d),i=Object(o.d)(d.h),f=Object(o.d)(d.g),m=Object(o.d)(d.b),h=Object(o.c)(),_=Object(g.g)();Object(r.useEffect)((function(){var e=v.parse(_.location.search.substr(1)),r=t,a=i;e.page&&(r=Number(e.page)),e.term&&(a=Object(u.a)(Object(u.a)({},a),{},{term:e.term})),e.friend&&(a=Object(u.a)(Object(u.a)({},a),{},{friend:"null"===e.friend?null:"true"===e.friend})),console.log("render"),h(Object(b.e)(r,n,a))}),[]),Object(r.useEffect)((function(){var e={};i.term&&(e.term=i.term),null!==i.friend&&(e.friend=String(i.friend)),1!==t&&(e.page=String(t)),console.log("render"),_.push({pathname:"/users",search:v.stringify(e)})}),[i,t]);var y=function(e){h(Object(b.f)(e))},E=function(e){h(Object(b.c)(e))};return a.a.createElement("div",{className:c.a.users},a.a.createElement(p,{onFilterChanged:function(e){h(Object(b.e)(1,n,e))}}),a.a.createElement(s.a,{currentPage:t,onPageChanged:function(e){h(b.a.setCurrentPage(e)),h(Object(b.e)(e,n,i))},totalItemsCount:e,pageSize:n}),f.map((function(e){return a.a.createElement(l.a,{user:e,key:e.id,followingInProgress:m,unfollow:y,follow:E})})))},_=n(41),y=n(200),E=Object(y.a)((function(){var e=Object(o.d)(d.c);return a.a.createElement(a.a.Fragment,null,e?a.a.createElement(_.a,null):null,a.a.createElement(h,null))}))}}]);
//# sourceMappingURL=5.8e59fcfb.chunk.js.map