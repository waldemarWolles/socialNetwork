{"version":3,"sources":["components/common/FormControls/FormControls.jsx","components/common/FormControls/FormControls.module.css","utils/validators/validators.js","components/Login/login.module.css","components/Login/Login.jsx"],"names":["FormControl","input","meta","props","child","hasError","touched","error","children","Textarea","restProps","Input","createField","placeholder","validators","name","component","text","validate","module","exports","required","value","maxLengthCreator","maxLength","length","maxLength30","LoginReduxForm","reduxForm","form","handleSubmit","backgroundColor","onSubmit","type","className","classes","form_error","connect","state","isAuth","auth","loginThunk","to","login","formData","email","password","rememberMe"],"mappings":"+QAIMA,EAAc,SAAC,GAAqC,EAAnCC,MAAoC,IAA7BC,EAA4B,EAA5BA,KAAgBC,GAAY,EAAtBC,MAAsB,yCAElDC,EAAWH,EAAKI,SAAWJ,EAAKK,MAEpC,OACI,6BACI,6BACKJ,EAAMK,UAEX,6BACKH,GAAY,8BAAQH,EAAKK,UAM7BE,EAAW,SAACN,GAAW,IACxBF,EAAqCE,EAArCF,MAAuBS,GAAcP,EAA9BD,KAA8BC,EAAxBC,MADU,YACcD,EADd,2BAE/B,OACI,6BACI,kBAACH,EAAgBG,EAAO,8CAAcF,EAAWS,OAKhDC,EAAQ,SAACR,GAAW,IACrBF,EAAqCE,EAArCF,MAAuBS,GAAcP,EAA9BD,KAA8BC,EAAxBC,MADO,YACiBD,EADjB,2BAE5B,OACI,6BACI,kBAACH,EAAgBG,EAAO,2CAAWF,EAAWS,OAM7CE,EAAc,SAACC,EAAaC,EAAYC,EAAMC,GAAhC,IAA2Cb,EAA3C,uDAAmD,GAAIc,EAAvD,uDAA8D,GAA9D,OACvB,6BACK,kBAAC,IAAD,eAAOJ,YAAaA,EAAaK,SAAUJ,EAAYC,KAAMA,EAAMC,UAAWA,GAAeb,IAAUc,K,oBCxChHE,EAAOC,QAAU,CAAC,aAAe,mCAAmC,MAAQ,8B,iCCD5E,oEAAO,IAAMC,EAAW,SAAAC,GACpB,IAAGA,EAEH,MAAO,qBAIEC,EAAkB,SAACC,GAAD,OAAe,SAACF,GAC3C,GAAGA,EAAMG,OAASD,EAAW,MAAM,cAAN,OAAqBA,EAArB,e,oBCPjCL,EAAOC,QAAU,CAAC,UAAY,yBAAyB,WAAa,4B,iCCDpE,+FASIM,EAAcH,YAAiB,IAuB7BI,EAAiBC,YAAU,CAE/BC,KAAM,SAFeD,EArBL,SAAC,GAA2B,IAA1BE,EAAyB,EAAzBA,aAAcvB,EAAW,EAAXA,MAChC,OACE,yBAAKwB,gBAAgB,SACnB,0BAAMC,SAAUF,GACdlB,YAAY,QAAS,CAACS,IAAUK,GAAc,QAASf,KACvDC,YAAY,WAAY,CAACS,IAAUK,GAAc,WAAYf,IAAO,CAACsB,KAAM,aAC3ErB,YAAY,KAAM,GAAI,WAAYD,IAAO,CAACsB,KAAM,YAAa,eAE5D1B,GAAS,yBAAK2B,UAAWC,IAAQC,YAC/B7B,GAEH,6BACE,gDAuCK8B,uBALS,SAACC,GAAD,MAAY,CAClCC,OAAQD,EAAME,KAAKD,UAImB,CAAEE,gBAA3BJ,EAtBD,SAAClC,GAMb,OAAIA,EAAMoC,OACD,kBAAC,IAAD,CAAUG,GAAI,aAGhB,yBAAKR,UAAWC,IAAQQ,OAC7B,qCACA,kBAAChB,EAAD,CAAgBK,SAVD,SAACY,GAChBzC,EAAMsC,WAAWG,EAASC,MAAOD,EAASE,SAAUF,EAASG","file":"static/js/7.c5da6d7f.chunk.js","sourcesContent":["import classes from './FormControls.module.css';\r\nimport React from 'react';\r\nimport { Field } from 'redux-form';\r\n\r\nconst FormControl = ({ input, meta, child, ...props }) => {\r\n\r\n    let hasError = meta.touched && meta.error;\r\n\r\n    return (\r\n        <div>\r\n            <div>\r\n                {props.children}\r\n            </div>\r\n            <div>\r\n                {hasError && <span >{meta.error}</span>}\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport const Textarea = (props) => {\r\n    const { input, meta, child, ...restProps } = props;\r\n    return (\r\n        <div>\r\n            <FormControl {...props}><textarea {...input} {...restProps} /></FormControl>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport const Input = (props) => {\r\n    const { input, meta, child, ...restProps } = props;\r\n    return (\r\n        <div>\r\n            <FormControl {...props}><input {...input} {...restProps} /></FormControl>\r\n        </div>\r\n    );\r\n}\r\n\r\n\r\nexport const createField = (placeholder, validators, name, component, props = {}, text = '') => (\r\n    <div>\r\n         <Field placeholder={placeholder} validate={validators} name={name} component={component} {...props} />{text}\r\n    </div>\r\n);","// extracted by mini-css-extract-plugin\nmodule.exports = {\"formControls\":\"FormControls_formControls__4c7Yh\",\"error\":\"FormControls_error__uKFST\"};","export const required = value => {\r\n    if(value) return undefined;\r\n\r\n    return 'Field is reauired';\r\n}\r\n\r\n\r\nexport const maxLengthCreator= (maxLength) => (value) => {\r\n    if(value.length > maxLength) return `max length ${maxLength} symbols`;\r\n\r\n    return undefined;\r\n}","// extracted by mini-css-extract-plugin\nmodule.exports = {\"form_item\":\"login_form_item__2hksY\",\"form_error\":\"login_form_error__1vVX3\"};","import React from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { Field, reduxForm } from 'redux-form';\r\nimport { maxLengthCreator, required } from '../../utils/validators/validators';\r\nimport { Input, createField } from '../common/FormControls/FormControls';\r\nimport classes from './login.module.css';\r\nimport { loginThunk } from '../../reduxx/auth-reducer';\r\nimport { Redirect } from 'react-router-dom';\r\n\r\nlet maxLength30 = maxLengthCreator(30);\r\n\r\nconst LoginForm = ({handleSubmit, error}) => {\r\n  return (\r\n    <div backgroundColor='white'>\r\n      <form onSubmit={handleSubmit}>\r\n       {createField('Email', [required, maxLength30], 'email', Input)}\r\n       {createField('Password', [required, maxLength30], 'password', Input, {type: 'password'})}\r\n       {createField(null, [], 'checkbox', Input, {type: 'checkbox'}, 'remember me')}\r\n\r\n        {error && <div className={classes.form_error}>\r\n          {error}\r\n        </div>}\r\n        <div>\r\n          <button>Log In</button>\r\n        </div>\r\n      </form>\r\n    </div>\r\n\r\n  );\r\n}\r\n\r\n\r\nconst LoginReduxForm = reduxForm({\r\n  // a unique name for the form\r\n  form: 'login'\r\n})(LoginForm)\r\n\r\n\r\n\r\n\r\nconst Login = (props) => {\r\n\r\n  const onSubmit = (formData) => {\r\n    props.loginThunk(formData.email, formData.password, formData.rememberMe);\r\n  }\r\n\r\n  if (props.isAuth) {\r\n    return <Redirect to={'/profile'} />\r\n  }\r\n\r\n  return <div className={classes.login} >\r\n    <h2>LOGIN</h2>\r\n    <LoginReduxForm onSubmit={onSubmit} />\r\n  </div>\r\n\r\n}\r\n\r\nconst mapStateToProps = (state) => ({\r\n  isAuth: state.auth.isAuth\r\n})\r\n\r\n\r\nexport default connect(mapStateToProps, { loginThunk })(Login);"],"sourceRoot":""}