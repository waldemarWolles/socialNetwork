{"version":3,"sources":["components/common/withAuthRedirect.tsx","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/arrayWithHoles.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/iterableToArrayLimit.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/nonIterableRest.js","images/headerOptions/user.svg","components/Users/Users.module.css","../node_modules/reselect/es/index.js","reduxx/users-selectors.ts","components/Users/User.tsx","components/common/Paginator/Paginator.tsx","components/common/Paginator/Paginator.module.css","../node_modules/querystring-es3/index.js","../node_modules/querystring-es3/decode.js","../node_modules/querystring-es3/encode.js","components/Users/UsersSearchForm.tsx","components/Users/Users.tsx","components/Users/UsersContainer.tsx"],"names":["mapStateToProps","state","isAuth","auth","withAuthRedirect","WrappedComponent","connect","props","restProps","to","_slicedToArray","arr","i","Array","isArray","Symbol","iterator","Object","_arr","_n","_d","_e","undefined","_s","_i","next","done","push","value","length","err","unsupportedIterableToArray","TypeError","module","exports","defaultEqualityCheck","a","b","areArgumentsShallowlyEqual","equalityCheck","prev","getDependencies","funcs","dependencies","every","dep","dependencyTypes","map","join","Error","createSelector","memoize","_len","arguments","memoizeOptions","_key","_len2","_key2","recomputations","resultFunc","pop","memoizedResultFunc","apply","concat","selector","params","resetRecomputations","createSelectorCreator","func","lastArgs","lastResult","getUsers","usersPage","users","filter","u","getPageSize","pageSize","getPageSizeFriends","pageSizeFriends","getTotalUsersCount","totalUsersCount","getCurrentPage","currentPage","getIsFetching","isFetching","getFollowingInProgress","followingInProgress","getUsersFilter","User","user","unfollow","follow","className","classes","id","user_photo","width","src","photos","small","userPhoto","alt","user_info","user_info_item","name","status","followed","disabled","some","onClick","Paginator","totalItemsCount","onPageChanged","portionSize","pagesCount","Math","ceil","pages","portionCount","useState","portionNumber","setPortionNumber","leftPortionPageNumber","rightPortionPageNumber","paginator","disabledButton","p","cn","selectedPage","pageNumber","key","e","decode","parse","require","encode","stringify","hasOwnProperty","obj","prop","prototype","call","qs","sep","eq","options","regexp","split","maxKeys","len","kstr","vstr","k","v","x","replace","idx","indexOf","substr","decodeURIComponent","xs","toString","stringifyPrimitive","isFinite","objectKeys","ks","encodeURIComponent","f","res","keys","UsersSearchForm","React","memo","useSelector","search_form_users","enableReinitialize","initialValues","term","friend","String","validationSchema","Yup","onSubmit","values","onFilterChanged","formik","form","type","as","isValid","Users","dispatch","useDispatch","history","useHistory","useEffect","parsed","queryString","location","search","actualPage","actualFilter","page","Number","console","log","getUsersThunk","query","pathname","userId","unfollowThunk","followThunk","actionsUsersReducer","setCurrentPage","UserPageWithAuth","Preloader"],"mappings":"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","file":"static/js/5.e01e7d31.chunk.js","sourcesContent":["import React from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { Redirect } from 'react-router-dom';\r\nimport { AppRootStateType } from '../../reduxx/redux-store';\r\n\r\n\r\ntype MapStatePropsType = ReturnType<typeof mapStateToProps>\r\n\r\n\r\nconst mapStateToProps = (state: AppRootStateType) => {\r\n    return {\r\n        isAuth: state.auth.isAuth\r\n    }\r\n}\r\n\r\nexport function withAuthRedirect<WCP>(WrappedComponent: React.ComponentType<WCP>) {\r\n\r\n    \r\n\r\n    const RedirectComponent: React.FC<MapStatePropsType> = (props) => {\r\n        let {isAuth, ...restProps} = props\r\n\r\n        if (!props.isAuth) return <Redirect to='/login' />\r\n        return <WrappedComponent {...restProps as WCP} />\r\n    }\r\n\r\n\r\n\r\n    return connect<MapStatePropsType, unknown, WCP, AppRootStateType>(mapStateToProps)(RedirectComponent)\r\n}\r\n\r\n","import arrayWithHoles from \"./arrayWithHoles\";\nimport iterableToArrayLimit from \"./iterableToArrayLimit\";\nimport unsupportedIterableToArray from \"./unsupportedIterableToArray\";\nimport nonIterableRest from \"./nonIterableRest\";\nexport default function _slicedToArray(arr, i) {\n  return arrayWithHoles(arr) || iterableToArrayLimit(arr, i) || unsupportedIterableToArray(arr, i) || nonIterableRest();\n}","export default function _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}","export default function _iterableToArrayLimit(arr, i) {\n  if (typeof Symbol === \"undefined\" || !(Symbol.iterator in Object(arr))) return;\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n  var _e = undefined;\n\n  try {\n    for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}","export default function _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}","module.exports = __webpack_public_path__ + \"static/media/user.c3dacb0b.svg\";","// extracted by mini-css-extract-plugin\nmodule.exports = {\"users\":\"Users_users__no7MC\",\"search_form_users\":\"Users_search_form_users__hhwUx\",\"form\":\"Users_form__2VCnM\",\"preloader\":\"Users_preloader__1CuV5\",\"user\":\"Users_user__25gTX\",\"user_photo\":\"Users_user_photo__HKg5u\",\"user_info\":\"Users_user_info__2NFH-\",\"user_info_item\":\"Users_user_info_item__2GVsv\"};","function defaultEqualityCheck(a, b) {\n  return a === b;\n}\n\nfunction areArgumentsShallowlyEqual(equalityCheck, prev, next) {\n  if (prev === null || next === null || prev.length !== next.length) {\n    return false;\n  }\n\n  // Do this in a for loop (and not a `forEach` or an `every`) so we can determine equality as fast as possible.\n  var length = prev.length;\n  for (var i = 0; i < length; i++) {\n    if (!equalityCheck(prev[i], next[i])) {\n      return false;\n    }\n  }\n\n  return true;\n}\n\nexport function defaultMemoize(func) {\n  var equalityCheck = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : defaultEqualityCheck;\n\n  var lastArgs = null;\n  var lastResult = null;\n  // we reference arguments instead of spreading them for performance reasons\n  return function () {\n    if (!areArgumentsShallowlyEqual(equalityCheck, lastArgs, arguments)) {\n      // apply arguments instead of spreading for performance.\n      lastResult = func.apply(null, arguments);\n    }\n\n    lastArgs = arguments;\n    return lastResult;\n  };\n}\n\nfunction getDependencies(funcs) {\n  var dependencies = Array.isArray(funcs[0]) ? funcs[0] : funcs;\n\n  if (!dependencies.every(function (dep) {\n    return typeof dep === 'function';\n  })) {\n    var dependencyTypes = dependencies.map(function (dep) {\n      return typeof dep;\n    }).join(', ');\n    throw new Error('Selector creators expect all input-selectors to be functions, ' + ('instead received the following types: [' + dependencyTypes + ']'));\n  }\n\n  return dependencies;\n}\n\nexport function createSelectorCreator(memoize) {\n  for (var _len = arguments.length, memoizeOptions = Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n    memoizeOptions[_key - 1] = arguments[_key];\n  }\n\n  return function () {\n    for (var _len2 = arguments.length, funcs = Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n      funcs[_key2] = arguments[_key2];\n    }\n\n    var recomputations = 0;\n    var resultFunc = funcs.pop();\n    var dependencies = getDependencies(funcs);\n\n    var memoizedResultFunc = memoize.apply(undefined, [function () {\n      recomputations++;\n      // apply arguments instead of spreading for performance.\n      return resultFunc.apply(null, arguments);\n    }].concat(memoizeOptions));\n\n    // If a selector is called with the exact same arguments we don't need to traverse our dependencies again.\n    var selector = memoize(function () {\n      var params = [];\n      var length = dependencies.length;\n\n      for (var i = 0; i < length; i++) {\n        // apply arguments instead of spreading and mutate a local list of params for performance.\n        params.push(dependencies[i].apply(null, arguments));\n      }\n\n      // apply arguments instead of spreading for performance.\n      return memoizedResultFunc.apply(null, params);\n    });\n\n    selector.resultFunc = resultFunc;\n    selector.dependencies = dependencies;\n    selector.recomputations = function () {\n      return recomputations;\n    };\n    selector.resetRecomputations = function () {\n      return recomputations = 0;\n    };\n    return selector;\n  };\n}\n\nexport var createSelector = createSelectorCreator(defaultMemoize);\n\nexport function createStructuredSelector(selectors) {\n  var selectorCreator = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : createSelector;\n\n  if (typeof selectors !== 'object') {\n    throw new Error('createStructuredSelector expects first argument to be an object ' + ('where each property is a selector, instead received a ' + typeof selectors));\n  }\n  var objectKeys = Object.keys(selectors);\n  return selectorCreator(objectKeys.map(function (key) {\n    return selectors[key];\n  }), function () {\n    for (var _len3 = arguments.length, values = Array(_len3), _key3 = 0; _key3 < _len3; _key3++) {\n      values[_key3] = arguments[_key3];\n    }\n\n    return values.reduce(function (composition, value, index) {\n      composition[objectKeys[index]] = value;\n      return composition;\n    }, {});\n  });\n}","import { AppRootStateType } from './redux-store';\r\nimport { createSelector } from \"reselect\";\r\n\r\nexport const getUsersSelector = (state: AppRootStateType) => {\r\n    return state.usersPage.users;\r\n}\r\n\r\nexport const getUsers = createSelector(getUsersSelector,\r\n    (users) => {\r\n        return users.filter(u => true);\r\n    });\r\n\r\nexport const getPageSize = (state: AppRootStateType) => {\r\n    return state.usersPage.pageSize;\r\n}\r\nexport const getPageSizeFriends = (state: AppRootStateType) => {\r\n    return state.usersPage.pageSizeFriends;\r\n}\r\n\r\nexport const getTotalUsersCount = (state: AppRootStateType) => {\r\n    return state.usersPage.totalUsersCount;\r\n}\r\nexport const getCurrentPage = (state: AppRootStateType) => {\r\n    return state.usersPage.currentPage;\r\n}\r\nexport const getIsFetching = (state: AppRootStateType) => {\r\n    return state.usersPage.isFetching;\r\n}\r\nexport const getFollowingInProgress = (state: AppRootStateType) => {\r\n    return state.usersPage.followingInProgress;\r\n}\r\n\r\nexport const getUsersFilter = (state: AppRootStateType) => {\r\n    return state.usersPage.filter;\r\n}\r\n","import React from 'react';\r\nimport userPhoto from '../../images/headerOptions/user.svg';\r\nimport { NavLink } from 'react-router-dom';\r\nimport classes from './Users.module.css';\r\nimport { UserType } from '../../types/types';\r\n\r\n\r\ntype PropsType = {\r\n  user: UserType\r\n  followingInProgress: Array<number>\r\n\r\n\r\n  unfollow: (userId: number) => void\r\n  follow: (userId: number) => void\r\n}\r\n\r\n\r\nconst User: React.FC<PropsType> = ({ user, followingInProgress, unfollow, follow }) => {\r\n\r\n  let u = user\r\n  return (\r\n\r\n    <div className={classes.user}>\r\n      <div>\r\n        <NavLink to={'profile/' + u.id} >\r\n          <img className={classes.user_photo} width='150' src={u.photos.small !== null ? u.photos.small : userPhoto} alt=\"\" />\r\n        </NavLink>\r\n      </div>\r\n      <div className={classes.user_info}>\r\n        <div className={classes.user_info_item}>Name: {u.name}</div>\r\n        <div className={classes.user_info_item}>Status:{u.status}</div>\r\n        <div className={classes.user_info_item}>\r\n          {u.followed\r\n            ? <button disabled={followingInProgress.some(id => id === u.id)} onClick={() => {\r\n              unfollow(u.id);\r\n            }}>Unfollow</button>\r\n            : <button disabled={followingInProgress.some(id => id === u.id)} onClick={() => {\r\n              follow(u.id);\r\n            }}>Follow</button>}\r\n        </div>\r\n      </div>\r\n\r\n    </div>\r\n\r\n  );\r\n\r\n\r\n\r\n\r\n}\r\n\r\nexport default User;\r\n\r\n","import React from 'react' \r\nimport classes from './Paginator.module.css' \r\nimport cn from 'classnames' \r\nimport { useState } from 'react' \r\n\r\n\r\ntype PropsType = {\r\n  totalItemsCount: number\r\n   pageSize: number\r\n   currentPage: number\r\n   onPageChanged: (pageNumber: number) => void \r\n   portionSize?: number\r\n}\r\n\r\n\r\nconst Paginator: React.FC<PropsType> = ({ totalItemsCount, pageSize, currentPage, onPageChanged, portionSize = 10 }) => {\r\n  let pagesCount = Math.ceil(totalItemsCount / pageSize) \r\n  let pages: Array<number> = []\r\n  for (let i = 1;  i <= pagesCount;  i++) {\r\n    pages.push(i)\r\n  }\r\n\r\n\r\n  let portionCount = Math.ceil(pagesCount / portionSize) \r\n  let [portionNumber, setPortionNumber] = useState(1) \r\n  let leftPortionPageNumber = (portionNumber - 1) * portionSize + 1 \r\n  let rightPortionPageNumber = portionNumber * portionSize \r\n\r\n\r\n  return <div className={classes.paginator}>\r\n   \r\n      {portionNumber > 1\r\n        ? <button onClick={() => { portionNumber >= 2 && setPortionNumber(portionNumber - 1) }}>PREV</button>\r\n        : <button className={classes.disabledButton} disabled={true}>PREV</button>\r\n\r\n      }\r\n      <div className={classes.pages}>\r\n        {pages\r\n          .filter(p => p >= leftPortionPageNumber && p <= rightPortionPageNumber)\r\n          .map((p) => {\r\n            return <span className={cn({ [classes.selectedPage]: currentPage === p }, classes.pageNumber)}\r\n              key={p}\r\n              onClick={(e) => { onPageChanged(p) }}\r\n            >{p}</span>\r\n          })}\r\n      </div>\r\n\r\n      {portionCount > portionNumber\r\n        ? <button onClick={() => { portionNumber < portionCount && setPortionNumber(portionNumber + 1) }}>NEXT</button>\r\n        : <button className={classes.disabledButton} disabled={true}>NEXT</button>\r\n      }\r\n\r\n    </div>\r\n\r\n \r\n}\r\n\r\nexport default Paginator \r\n\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"selectedPage\":\"Paginator_selectedPage__3ERx8\",\"disabledButton\":\"Paginator_disabledButton__CC9kU\",\"paginator\":\"Paginator_paginator__WFnS9\",\"pages\":\"Paginator_pages__iXExM\",\"pageNumber\":\"Paginator_pageNumber__3DpB-\"};","'use strict';\n\nexports.decode = exports.parse = require('./decode');\nexports.encode = exports.stringify = require('./encode');\n","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n'use strict';\n\n// If obj.hasOwnProperty has been overridden, then calling\n// obj.hasOwnProperty(prop) will break.\n// See: https://github.com/joyent/node/issues/1707\nfunction hasOwnProperty(obj, prop) {\n  return Object.prototype.hasOwnProperty.call(obj, prop);\n}\n\nmodule.exports = function(qs, sep, eq, options) {\n  sep = sep || '&';\n  eq = eq || '=';\n  var obj = {};\n\n  if (typeof qs !== 'string' || qs.length === 0) {\n    return obj;\n  }\n\n  var regexp = /\\+/g;\n  qs = qs.split(sep);\n\n  var maxKeys = 1000;\n  if (options && typeof options.maxKeys === 'number') {\n    maxKeys = options.maxKeys;\n  }\n\n  var len = qs.length;\n  // maxKeys <= 0 means that we should not limit keys count\n  if (maxKeys > 0 && len > maxKeys) {\n    len = maxKeys;\n  }\n\n  for (var i = 0; i < len; ++i) {\n    var x = qs[i].replace(regexp, '%20'),\n        idx = x.indexOf(eq),\n        kstr, vstr, k, v;\n\n    if (idx >= 0) {\n      kstr = x.substr(0, idx);\n      vstr = x.substr(idx + 1);\n    } else {\n      kstr = x;\n      vstr = '';\n    }\n\n    k = decodeURIComponent(kstr);\n    v = decodeURIComponent(vstr);\n\n    if (!hasOwnProperty(obj, k)) {\n      obj[k] = v;\n    } else if (isArray(obj[k])) {\n      obj[k].push(v);\n    } else {\n      obj[k] = [obj[k], v];\n    }\n  }\n\n  return obj;\n};\n\nvar isArray = Array.isArray || function (xs) {\n  return Object.prototype.toString.call(xs) === '[object Array]';\n};\n","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n'use strict';\n\nvar stringifyPrimitive = function(v) {\n  switch (typeof v) {\n    case 'string':\n      return v;\n\n    case 'boolean':\n      return v ? 'true' : 'false';\n\n    case 'number':\n      return isFinite(v) ? v : '';\n\n    default:\n      return '';\n  }\n};\n\nmodule.exports = function(obj, sep, eq, name) {\n  sep = sep || '&';\n  eq = eq || '=';\n  if (obj === null) {\n    obj = undefined;\n  }\n\n  if (typeof obj === 'object') {\n    return map(objectKeys(obj), function(k) {\n      var ks = encodeURIComponent(stringifyPrimitive(k)) + eq;\n      if (isArray(obj[k])) {\n        return map(obj[k], function(v) {\n          return ks + encodeURIComponent(stringifyPrimitive(v));\n        }).join(sep);\n      } else {\n        return ks + encodeURIComponent(stringifyPrimitive(obj[k]));\n      }\n    }).join(sep);\n\n  }\n\n  if (!name) return '';\n  return encodeURIComponent(stringifyPrimitive(name)) + eq +\n         encodeURIComponent(stringifyPrimitive(obj));\n};\n\nvar isArray = Array.isArray || function (xs) {\n  return Object.prototype.toString.call(xs) === '[object Array]';\n};\n\nfunction map (xs, f) {\n  if (xs.map) return xs.map(f);\n  var res = [];\n  for (var i = 0; i < xs.length; i++) {\n    res.push(f(xs[i], i));\n  }\n  return res;\n}\n\nvar objectKeys = Object.keys || function (obj) {\n  var res = [];\n  for (var key in obj) {\n    if (Object.prototype.hasOwnProperty.call(obj, key)) res.push(key);\n  }\n  return res;\n};\n","import React from 'react'\r\nimport { Field, Form, Formik } from 'formik'\r\nimport * as Yup from 'yup'\r\nimport { FilterType } from '../../reduxx/users-reducer'\r\nimport { getUsersFilter } from '../../reduxx/users-selectors'\r\nimport { useSelector } from 'react-redux'\r\nimport classes from './Users.module.css'\r\n\r\ntype PropsType = {\r\n  onFilterChanged: (filter: FilterType) => void\r\n}\r\n\r\ntype FriendFormType = 'true' | 'false' | 'null'\r\n\r\ntype FormType = {\r\n  term: string\r\n  friend: FriendFormType\r\n}\r\n\r\nconst UsersSearchForm: React.FC<PropsType> = React.memo((props) => {\r\n  const filter = useSelector(getUsersFilter)\r\n\r\n  const submit = (values: FormType) => {\r\n    const filter: FilterType = {\r\n      term: values.term,\r\n      friend:\r\n        values.friend === 'null'\r\n          ? null\r\n          : values.friend === 'true'\r\n          ? true\r\n          : false,\r\n    }\r\n\r\n    props.onFilterChanged(filter)\r\n  }\r\n\r\n  return (\r\n    <div className={classes.search_form_users}>\r\n      <h1>Find somebody!</h1>\r\n      <Formik\r\n        enableReinitialize={true}\r\n        initialValues={{\r\n          term: filter.term,\r\n          friend: String(filter.friend) as FriendFormType,\r\n        }}\r\n        validationSchema={Yup.object({\r\n          term: Yup.string(),\r\n        })}\r\n        onSubmit={submit}\r\n      >\r\n        {(formik) => {\r\n          return (\r\n            <Form className={classes.form}>\r\n              <Field type=\"text\" name=\"term\" />\r\n              <Field name=\"friend\" as=\"select\">\r\n                <option value=\"null\">All</option>\r\n                <option value=\"true\">Friends</option>\r\n                <option value=\"false\">Not friends</option>\r\n              </Field>\r\n              <button type=\"submit\" disabled={!formik.isValid}>\r\n                Submit\r\n              </button>\r\n            </Form>\r\n          )\r\n        }}\r\n      </Formik>\r\n    </div>\r\n  )\r\n})\r\n\r\nexport default UsersSearchForm\r\n","import React, { useEffect } from 'react'\r\nimport classes from './Users.module.css'\r\nimport Paginator from '../common/Paginator/Paginator'\r\nimport User from './User'\r\nimport UsersSearchForm from './UsersSearchForm'\r\nimport {\r\n    actionsUsersReducer,\r\n    FilterType,\r\n    getUsersThunk,\r\n    unfollowThunk,\r\n    followThunk\r\n} from '../../reduxx/users-reducer';\r\nimport { useDispatch, useSelector } from 'react-redux'\r\nimport { getTotalUsersCount, getCurrentPage, getPageSize, getUsersFilter, getUsers, getFollowingInProgress } from '../../reduxx/users-selectors'\r\nimport { useHistory } from 'react-router-dom'\r\nimport * as queryString from 'querystring'\r\n\r\n\r\ntype PropsType = {}\r\n\r\nexport const Users: React.FC<PropsType> = () => {\r\n\r\n  const totalUsersCount = useSelector(getTotalUsersCount)\r\n  const currentPage = useSelector(getCurrentPage)\r\n  const pageSize = useSelector(getPageSize)\r\n  const filter = useSelector(getUsersFilter)\r\n  const users = useSelector(getUsers)\r\n  const followingInProgress = useSelector(getFollowingInProgress)\r\n\r\n  const dispatch = useDispatch()\r\n  const history = useHistory()\r\n\r\n  type QueryParamsType = {\r\n    term?: string\r\n    page?: string\r\n    friend?: string\r\n  }\r\n  \r\n\r\n  useEffect(() => {\r\n    const parsed = queryString.parse(history.location.search.substr(1)) as QueryParamsType\r\n    \r\n    let actualPage = currentPage\r\n    let actualFilter = filter\r\n\r\n    if(!!parsed.page) actualPage = Number(parsed.page)\r\n    if(!!parsed.term) actualFilter = {...actualFilter, term: parsed.term as string} \r\n    if(!!parsed.friend) actualFilter = {...actualFilter, friend: parsed.friend === 'null' ? null : parsed.friend === 'true' ? true : false}\r\n    console.log('render')\r\n  \r\n   dispatch(getUsersThunk(actualPage, pageSize, actualFilter))\r\n  }, [])\r\n\r\n  useEffect(() => {\r\n\r\n    const query: QueryParamsType = {}\r\n\r\n    if(!!filter.term) query.term = filter.term\r\n    if(filter.friend !== null) query.friend = String(filter.friend)\r\n    if(currentPage !== 1) query.page = String(currentPage)\r\n    console.log('render')\r\n    history.push({\r\n      pathname: '/users',\r\n      search: queryString.stringify(query)\r\n    })\r\n  }, [filter, currentPage])\r\n\r\n  \r\n\r\n  const onPageChanged = (currentPage: number) => {\r\n\r\n    dispatch(actionsUsersReducer.setCurrentPage(currentPage))\r\n    dispatch(getUsersThunk(currentPage, pageSize, filter))\r\n  }\r\n\r\n  const onFilterChanged = (filter: FilterType) => {\r\n    dispatch(getUsersThunk(1, pageSize, filter))\r\n  }\r\n\r\n  const unfollow =  (userId: number) => {\r\n    dispatch(unfollowThunk(userId))\r\n  }\r\n\r\n  const follow = (userId: number) => {\r\n    dispatch(followThunk(userId))\r\n  }\r\n\r\n\r\n  return (\r\n    <div className={classes.users}>\r\n      <UsersSearchForm onFilterChanged={onFilterChanged} />\r\n\r\n      <Paginator currentPage={currentPage} onPageChanged={onPageChanged} totalItemsCount={totalUsersCount} pageSize={pageSize} />\r\n     \r\n      {users.map(u =>\r\n        <User\r\n          user={u} key={u.id}\r\n          followingInProgress={followingInProgress}\r\n          unfollow={unfollow} follow={follow} />\r\n      )}\r\n\r\n    </div>\r\n  )\r\n\r\n}\r\n\r\n\r\n\r\n","import React from 'react'\r\nimport { useSelector } from 'react-redux'\r\nimport { Users } from './Users'\r\nimport Preloader from '../common/Preloader'\r\nimport { getIsFetching } from '../../reduxx/users-selectors'\r\nimport { withAuthRedirect } from '../common/withAuthRedirect'\r\n\r\nconst UsersPage: React.FC = () => {\r\n  const isFetching = useSelector(getIsFetching)\r\n\r\n  return (\r\n    <>\r\n      {isFetching ? <Preloader /> : null}\r\n      <Users />\r\n    </>\r\n  )\r\n}\r\n\r\nexport const UserPageWithAuth = withAuthRedirect(UsersPage)\r\n"],"sourceRoot":""}